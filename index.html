<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Viewer - Windows 11</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="header" id="header">
        <div class="title">Media Viewer</div>
        <div style="display: flex; align-items: center; gap: 12px;">
            <div class="folder-info" id="folderInfo">Current: Liked_0</div>
            <button class="view-mode-btn" id="viewModeBtn" title="Toggle view mode (Single/Compare)" style="display: none;">
                <span class="btn-icon">üëÅÔ∏è</span>
                <span class="btn-label" id="viewModeLabel">Single</span>
            </button>
            <button class="change-folder-btn" id="changeFolderBtn" title="Change source folder" style="display: none;">
                <span class="btn-icon">üìÇ</span>
                <span class="btn-label">Change source folder</span>
            </button>
        </div>
    </div>

    <div class="media-container">
        <div class="drop-zone" id="dropZone">
            <div class="drop-icon">üìÅ</div>
            <div class="drop-title">Select folder to view media files</div>
            <div class="drop-subtitle">
                Supports: JPG, PNG, GIF, MP4, WebM, MOV
            </div>
        </div>

        <!-- Loading indicator -->
        <div class="loading-container" id="loadingContainer">
            <div class="spinner"></div>
            <div class="loading-text">Loading media...</div>
        </div>

        <!-- File info panel - moved to avoid header overlap -->
        <div class="file-info-panel" id="fileInfoPanel">
            <div class="file-info-header">
                <div class="file-name" id="fileName"></div>
                <button class="file-info-toggle" id="fileInfoToggle" title="Toggle file info">‚ÑπÔ∏è</button>
            </div>
            <div class="file-details" id="fileDetails"></div>
        </div>

        <!-- Navigation info -->
        <div class="navigation-info" id="navInfo">
            <span id="mediaIndex"></span>
        </div>

        <!-- Video controls -->
        <div class="video-controls" id="videoControls">
            <button class="video-control-btn" id="playPauseBtn" title="Play/Pause">‚è∏Ô∏è</button>
            <div class="video-progress-container">
                <input type="range" class="progress-slider" id="progressSlider" min="0" max="100" value="0">
                <div class="time-display">
                    <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
                </div>
            </div>
            <div class="volume-container">
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="1" step="0.1" value="1">
                <span class="volume-icon">üîä</span>
            </div>
            <button class="video-control-btn" id="skipBtn" title="Skip to next">‚è≠Ô∏è</button>
        </div>

        <!-- Main controls for single view -->
        <div class="controls" id="controls">
            <button class="control-btn cancel-btn" id="cancelBtn" title="Undo last move (Ctrl+Left)">
                <span class="btn-icon">‚Ü∂</span>
                <span class="btn-label">Undo</span>
            </button>
            <button class="control-btn dislike-btn" id="dislikeBtn" title="Move to previous folder (Down Arrow)">
                <span class="btn-icon">üëé</span>
                <span class="btn-label">Dislike</span>
            </button>
            <button class="control-btn like-btn" id="likeBtn" title="Move to next folder (Up Arrow)">
                <span class="btn-icon">üëç</span>
                <span class="btn-label">Like</span>
            </button>
        </div>

        <!-- Controls for compare view -->
        <div class="compare-controls" id="compareControls">
            <div class="left-media-controls">
                <button class="control-btn cancel-btn" id="cancelBtnCompare" title="Undo last move (Ctrl+Left)">
                    <span class="btn-icon">‚Ü∂</span>
                    <span class="btn-label">Undo</span>
                </button>
                <button class="control-btn dislike-btn" id="leftDislikeBtn" title="Left Dislike (W)">
                    <span class="btn-icon">üëé</span>
                    <span class="btn-label">Left Dislike</span>
                </button>
                <button class="control-btn like-btn" id="leftLikeBtn" title="Left Like (Q)">
                    <span class="btn-icon">üëç</span>
                    <span class="btn-label">Left Like</span>
                </button>
            </div>
            <div class="right-media-controls">
                <button class="control-btn dislike-btn" id="rightDislikeBtn" title="Right Dislike (R)">
                    <span class="btn-icon">üëé</span>
                    <span class="btn-label">Right Dislike</span>
                </button>
                <button class="control-btn like-btn" id="rightLikeBtn" title="Right Like (E)">
                    <span class="btn-icon">üëç</span>
                    <span class="btn-label">Right Like</span>
                </button>
            </div>
        </div>

        <!-- Navigation arrows -->
        <div class="nav-arrows">
            <button class="nav-arrow nav-prev" id="navPrev" title="Previous media (Left Arrow)">‚óÄ</button>
            <button class="nav-arrow nav-next" id="navNext" title="Next media (Right Arrow)">‚ñ∂</button>
        </div>
    </div>

    <!-- Notifications -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Keyboard shortcuts help -->
    <div class="help-overlay" id="helpOverlay">
        <div class="help-content">
            <h3>Keyboard Shortcuts</h3>
            <div class="shortcut-section">
                <h4>Single View Mode</h4>
                <div class="shortcut-grid">
                    <div class="shortcut-item">
                        <kbd>‚Üë</kbd> <span>Like (Move to higher folder)</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üì</kbd> <span>Dislike (Move to lower folder)</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üê</kbd> <span>Previous media</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>‚Üí</kbd> <span>Next media</span>
                    </div>
                </div>
            </div>
            <div class="shortcut-section">
                <h4>Compare View Mode</h4>
                <div class="shortcut-grid">
                    <div class="shortcut-item">
                        <kbd>Q</kbd> <span>Left media Like</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>W</kbd> <span>Left media Dislike</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>E</kbd> <span>Right media Like</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>R</kbd> <span>Right media Dislike</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Z</kbd> <span>Toggle left media fullscreen</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>X</kbd> <span>Toggle right media fullscreen</span>
                    </div>
                </div>
            </div>
            <div class="shortcut-section">
                <h4>General</h4>
                <div class="shortcut-grid">
                    <div class="shortcut-item">
                        <kbd>Ctrl</kbd> + <kbd>‚Üê</kbd> <span>Undo last move</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Space</kbd> <span>Play/Pause video</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Esc</kbd> <span>Exit fullscreen</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>F1</kbd> <span>Show/Hide this help</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="media-viewer.js"></script>
</body>
</html>